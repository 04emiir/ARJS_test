<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>GeoAR.js demo</title>
		<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
		<script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar-threex-location-only.js'></script>
		<script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js'></script>
		<script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
	</head>

	<body style="margin: 0; overflow: hidden">
			<a-scene vr-mode-ui='enabled: false' arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false' renderer='antialias: true; alpha: true'>
			<a-assets>
				<img id="futim" gps-new-entity-place="latitude: 37.19186648347383; longitude: -3.6168797495054497" src="./fut.jpg">
			</a-assets>
			
			  <!-- Using the asset management system. -->
			<a-image width="200" height="100" gps-new-entity-place="latitude: 37.19186648347383; longitude: -3.6168797495054497" src="#futim"></a-image>
			<a-camera gps-new-camera='gpsMinDistance: 5'></a-camera>
		</a-scene>
	</body>

	<script>
		window.onload = () => {
			cargarModelos();
		};

		function cargarModelos() {
			
			let ARText = [
				{
					scale: "30 30 30",
					position: "0 10 -10",
					latitude: "37.19226040110459",
					longitude: "-3.6167509034519636",
					color: "green",
					value: "SALON DE ACTOS"
				}, 
				{
					scale: "30 30 30",
					position: "0 10 -10",
					latitude: "37.192215393923895",
					longitude: "-3.616513007858702",
					color: "green",
					value: "GIMNASIO DEL AYALA"
				}, 
				{
					scale: "30 30 30",
					position: "0 10 -10",
					latitude: "37.19204708197262",
					longitude: "-3.6170662619376253",
					color: "green",
					value: "CANCHA DE BASKET"
				}, 
				{
					scale: "30 30 30",
					position: "0 10 -10",
					latitude: "37.192346396934134",
					longitude: "-3.6172604837167497",
					color: "green",
					value: "F.P DE INFORMATICA"
				}, 
				{
					scale: "30 30 30",
					position: "0 10 -10",
					latitude: "37.19186648347383",
					longitude: "-3.6168797495054497",
					color: "green",
					value: "PISTAS DE FUTBOL"
				}
			];

			let ARVideos = [
				{
					scale: "0.5 0.5 0.5",
					position: "10 0 0",
					latitude: "37.19226040110459",
					longitude: "-3.6167509034519636",
					width: "3",
					height: "1.5",
					source: "sumvid.mp4"
				}, 
				{
					scale: "0.5 0.5 0.5",
					position: "10 0 0",
					latitude: "37.19220029643563",
					longitude: "-3.6165349993048603",
					width: "3",
					height: "1.5",
					source: "gymvid.mp4"
				}, 
				{
					scale: "0.5 0.5 0.5",
					position: "10 0 0",
					latitude: "37.19204708197262",
					longitude: "-3.6170662619376253",
					width: "3",
					height: "1.5",
					source: "basketvid.mp4"
				}, 
				{
					scale: "0.5 0.5 0.5",
					position: "10 0 0",
					latitude: "37.192346396934134",
					longitude: "-3.6172604837167497",
					width: "3",
					height: "1.5",
					source: "compuvid.mp4"
				}, 
				{
					scale: "0.5 0.5 0.5",
					position: "10 0 0",
					latitude: "37.19186648347383",
					longitude: "-3.6168797495054497",
					width: "3",
					height: "1.5",
					source: "fotvid.mp4"
				}
			];

			let ARImg = [
				{
					scale: "0.5 0.5 0.5",
					position: "-10 0 0",
					latitude: "37.19226040110459",
					longitude: "-3.6167509034519636",
					width: "3",
					height: "1.5",
					source: "actos.jpg"
				}, 
				{
					scale: "0.5 0.5 0.5",
					position: "-10 0 0",
					latitude: "37.192215393923895",
					longitude: "-3.616513007858702",
					width: "3",
					height: "1.5",
					source: "gym.jpg"
				}, 
				{
					scale: "0.5 0.5 0.5",
					position: "-10 0 0",
					latitude: "37.19204708197262",
					longitude: "-3.6170662619376253",
					width: "3",
					height: "1.5",
					source: "bal.jpg"
				}, 
				{
					scale: "0.5 0.5 0.5",
					position: "-10 0 0",
					latitude: "37.192346396934134",
					longitude: "-3.6172604837167497",
					width: "3",
					height: "1.5",
					source: "infor.jpg"
				}, 
				{
					scale: "0.5 0.5 0.5",
					position: "-10 0 0",
					latitude: "37.19186648347383",
					longitude: "-3.6168797495054497",
					width: "3",
					height: "1.5",
					source: "fut.jpg"
				}
			];

			
			var ARScene = document.querySelector("a-scene");

			for (let i = 0; i < ARText.length; i++) {
				let AREntity = document.createElement("a-text");
				AREntity.setAttribute("scale", ARText[i].scale);
				AREntity.setAttribute("position", ARText[i].position);
				AREntity.setAttribute("color", ARText[i].color);
				AREntity.setAttribute("value", ARText[i].value);
				AREntity.setAttribute("look-at", "[gps-new-camera]");
				AREntity.setAttribute("gps-new-entity-place", "latitude: "+ARText[i].latitude+"; longitude: "+ARText[i].longitude);
				ARScene.appendChild(AREntity);
			}

			/*
			for (let i = 0; i < ARVideos.length; i++) {
				let AREntity = document.createElement("a-video");
				AREntity.setAttribute("scale", ARVideos[i].scale);
				AREntity.setAttribute("position", ARVideos[i].position);
				AREntity.setAttribute("width", ARVideos[i].width);
				AREntity.setAttribute("height", ARVideos[i].height);
				AREntity.setAttribute("src", ARVideos[i].source);
				AREntity.setAttribute("gps-new-entity-place", "latitude: "+ARVideos[i].latitude+"; longitude: "+ARVideos[i].longitude);
				ARScene.appendChild(ARVideos);
			}

			for (let i = 0; i < ARImg.length; i++) {
				let AREntity = document.createElement("a-image");
				AREntity.setAttribute("scale", ARImg[i].scale);
				AREntity.setAttribute("position", ARImg[i].position);
				AREntity.setAttribute("width", ARImg[i].width);
				AREntity.setAttribute("height", ARImg[i].height);
				AREntity.setAttribute("src", ARImg[i].source);
				AREntity.setAttribute("gps-new-entity-place", "latitude: "+ARImg[i].latitude+"; longitude: "+ARImg[i].longitude);
				ARScene.appendChild(AREntity);
			}*/
		}
	</script>
</html>
